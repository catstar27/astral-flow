[gd_scene load_steps=36 format=4 uid="uid://dyy0oxkboq8t1"]

[ext_resource type="TileSet" uid="uid://dpajsxeb15k7l" path="res://maps/tilesets/dungeon.tres" id="1_i0d10"]
[ext_resource type="Script" uid="uid://b8kw4ghpy3r8t" path="res://maps/game_map.gd" id="2_vpgb5"]
[ext_resource type="AudioStream" uid="uid://cunppy0avc0yi" path="res://music/spinning_gears.wav" id="3_2625s"]
[ext_resource type="PackedScene" uid="uid://8hplcp22i5re" path="res://maps/interactives/lights/wall_light.tscn" id="3_lpqw6"]
[ext_resource type="PackedScene" uid="uid://iwh84j268tml" path="res://maps/interactives/generic/interactive.tscn" id="4_njv6h"]
[ext_resource type="AudioStream" uid="uid://dqghmnw6mpids" path="res://music/carefree_carousel.wav" id="4_to652"]
[ext_resource type="Resource" uid="uid://bfqfriuuyo85e" path="res://dialogue/test_room_completion.dtl" id="5_pmpyx"]
[ext_resource type="Texture2D" uid="uid://dpnsq7nn8m0l2" path="res://textures/interactive/stairs.png" id="6_wcq4g"]
[ext_resource type="PackedScene" uid="uid://cexm0cxkxol76" path="res://maps/interactives/generic/travel_point.tscn" id="7_3ojlr"]
[ext_resource type="PackedScene" uid="uid://bxbk83doy5d81" path="res://characters/generic/npc.tscn" id="10_ll2lb"]
[ext_resource type="Script" uid="uid://cuvk331ioveg" path="res://misc/helper_scripts/npc_task.gd" id="11_om4xg"]

[sub_resource type="Resource" id="Resource_p2huu"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_fsm1u"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_a7emo"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_hfkwg"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_dhgwd"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_opc7t"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_s2bki"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_so6oj"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_w1vxo"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_apu36"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_c6w4e"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_sq8r2"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_8nym6"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_17mmd"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_jaixk"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_loukb"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_8tikf"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_kciqn"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_j47yl"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_8q2qa"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_5ks45"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_g68nt"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_7kbph"]
script = ExtResource("11_om4xg")
type = 3
wait_time = 0.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(160, -288)
wander_max_tiles = Vector2i(3, 3)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[sub_resource type="Resource" id="Resource_4c1xa"]
script = ExtResource("11_om4xg")
type = 0
wait_time = 1.0
guard_location = Vector2(0, 0)
interact_pos = Vector2(0, 0)
wander_home = Vector2(0, 0)
wander_max_tiles = Vector2i(0, 0)
patrol_points = Array[Vector2]([])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0

[node name="TestMapDanceFloor" type="TileMapLayer"]
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAEAAAAAAAAAAAACAAEAAAAAAAAAAAABAAAAAAAAAAAAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAAAAAAAAAAAAAD//wAAAAAAAAAAAAAFAAAAAAAAAAAAAAD+/wAAAAACAAAAAAD+/wEAAAAEAAAAAAD//wEAAAADAAAAAAD//wIAAAABAAAAAAAAAAIAAAABAAAAAAABAAIAAAABAAAAAAACAAIAAAABAAAAAAADAAIAAAABAAAAAAAEAAIAAAABAAAAAAAFAAIAAAABAAAAAAAFAAEAAAAEAAAAAAAGAAEAAAADAAAAAAAGAAAAAAACAAAAAAAGAP//AAABAAAAAAAFAP//AAABAAAAAAAEAP//AAABAAAAAAADAP//AAABAAAAAAACAP//AAABAAAAAAABAP//AAABAAAAAAAAAP//AAABAAAAAAD/////AAABAAAAAAD+////AAABAAAAAAD+//v/AAADAAAAAAD+//n/AAADAAAAAAAGAPn/AAAEAAAAAAAGAPv/AAAEAAAAAAAGAP3/AAAEAAAAAAD+//f/AAADAAAAAAAAAPf/AAACAAAAAAACAPf/AAACAAAAAAAEAPf/AAACAAAAAAAGAPf/AAAEAAAAAAD9//7/AAACAAAAAAD9//3/AAAEAAAAAAD9//z/AAACAAAAAAD9//v/AAAEAAAAAAD9//r/AAACAAAAAAD9//n/AAAEAAAAAAD9//f/AAAEAAAAAAD9//j/AAACAAAAAAAHAPf/AAADAAAAAAAHAPj/AAACAAAAAAAHAPn/AAADAAAAAAAHAPr/AAACAAAAAAAHAPv/AAADAAAAAAAHAPz/AAACAAAAAAAHAP3/AAADAAAAAAD+//3/AAADAAAAAAD9////AAAEAAAAAAAHAP7/AAACAAAAAAAHAP//AAADAAAAAAD///b/AAABAAAAAAD+//b/AAABAAAAAAAAAPb/AAABAAAAAAABAPb/AAABAAAAAAACAPb/AAABAAAAAAADAPb/AAABAAAAAAAEAPb/AAABAAAAAAD9//b/AAAEAAAAAAAHAPb/AAADAAAAAAAGAPb/AAABAAAAAAAFAPb/AAABAAAAAAD+/wIAAAAEAAAAAAAGAAIAAAADAAAAAAACAP3/AAAAAAAAAAACAPz/AAAAAAAAAAACAPv/AAAAAAAAAAACAPr/AAAAAAAAAAACAPn/AAAAAAAAAAACAPj/AAAAAAAAAAABAPj/AAAAAAAAAAABAPf/AAAAAAAAAAAAAPj/AAAAAAAAAAD///j/AAAAAAAAAAD///f/AAAAAAAAAAD+//j/AAAAAAAAAAD///n/AAAAAAAAAAD///r/AAAAAAAAAAD+//r/AAAAAAAAAAD///v/AAAAAAAAAAD///z/AAAAAAAAAAD+//z/AAAAAAAAAAD///3/AAAAAAAAAAD///7/AAAAAAAAAAD+//7/AAAAAAAAAAAAAP7/AAAAAAAAAAAAAP3/AAAAAAAAAAAAAPz/AAAAAAAAAAAAAPv/AAAAAAAAAAAAAPr/AAAAAAAAAAAAAPn/AAAAAAAAAAABAPn/AAAAAAAAAAABAPr/AAAAAAAAAAABAPv/AAAAAAAAAAABAPz/AAAAAAAAAAABAP3/AAAAAAAAAAABAP7/AAAAAAAAAAACAP7/AAAAAAAAAAADAP7/AAAAAAAAAAADAP3/AAAAAAAAAAADAPz/AAAAAAAAAAADAPv/AAAAAAAAAAADAPr/AAAAAAAAAAADAPn/AAAAAAAAAAADAPj/AAAAAAAAAAADAPf/AAAAAAAAAAAEAPj/AAAAAAAAAAAEAPn/AAAAAAAAAAAEAPr/AAAAAAAAAAAEAPv/AAAAAAAAAAAEAPz/AAAAAAAAAAAEAP3/AAAAAAAAAAAEAP7/AAAAAAAAAAAFAP7/AAAAAAAAAAAFAP3/AAAAAAAAAAAFAPz/AAAAAAAAAAAFAPv/AAAAAAAAAAAFAPr/AAAAAAAAAAAFAPn/AAAAAAAAAAAFAPj/AAAAAAAAAAAFAPf/AAAAAAAAAAAGAPj/AAAAAAAAAAAGAPr/AAAAAAAAAAAGAPz/AAAAAAAAAAAGAP7/AAAAAAAAAAA=")
tile_set = ExtResource("1_i0d10")
script = ExtResource("2_vpgb5")
calm_theme = ExtResource("3_2625s")
battle_theme = ExtResource("4_to652")
map_name = "Dance Party"

[node name="LightingModulate" type="CanvasModulate" parent="."]
unique_name_in_owner = true
color = Color(0, 0, 0, 1)

[node name="WallLight" parent="." instance=ExtResource("3_lpqw6")]
position = Vector2(-96, 32)

[node name="WallLight2" parent="." instance=ExtResource("3_lpqw6")]
position = Vector2(416, 32)
rotation = 3.14159

[node name="WallLight3" parent="." instance=ExtResource("3_lpqw6")]
position = Vector2(-96, -288)

[node name="WallLight4" parent="." instance=ExtResource("3_lpqw6")]
position = Vector2(416, -288)
rotation = 3.14159

[node name="WallLight5" parent="." instance=ExtResource("3_lpqw6")]
position = Vector2(160, -544)
rotation = 1.5708

[node name="ExitStairs" parent="." instance=ExtResource("4_njv6h")]
position = Vector2(352, 32)
rotation = 3.14159
texture = ExtResource("6_wcq4g")
dialogue = ExtResource("5_pmpyx")

[node name="EntryStairs" parent="." instance=ExtResource("7_3ojlr")]
position = Vector2(-32, 32)
exit_direction = 3
entrance_id = "dance_party_left"
target_entrance_id = "tutorial"
new_map = "res://maps/test_map.tscn"
texture = ExtResource("6_wcq4g")

[node name="NPC" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(-96, -96)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_p2huu"), SubResource("Resource_fsm1u")])
loop_schedule = true

[node name="NPC2" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(-96, -224)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_a7emo"), SubResource("Resource_hfkwg")])
loop_schedule = true

[node name="NPC3" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(-96, -352)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_dhgwd"), SubResource("Resource_opc7t")])
loop_schedule = true

[node name="NPC4" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(-96, -480)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_s2bki"), SubResource("Resource_so6oj")])
loop_schedule = true

[node name="NPC5" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(-32, -544)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_w1vxo"), SubResource("Resource_apu36")])
loop_schedule = true

[node name="NPC6" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(96, -544)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_c6w4e"), SubResource("Resource_sq8r2")])
loop_schedule = true

[node name="NPC7" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(224, -544)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_8nym6"), SubResource("Resource_17mmd")])
loop_schedule = true

[node name="NPC8" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(352, -544)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_jaixk"), SubResource("Resource_loukb")])
loop_schedule = true

[node name="NPC9" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(416, -480)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_8tikf"), SubResource("Resource_kciqn")])
loop_schedule = true

[node name="NPC10" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(416, -352)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_j47yl"), SubResource("Resource_8q2qa")])
loop_schedule = true

[node name="NPC11" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(416, -224)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_5ks45"), SubResource("Resource_g68nt")])
loop_schedule = true

[node name="NPC12" parent="." instance=ExtResource("10_ll2lb")]
position = Vector2(416, -96)
schedule = Array[ExtResource("11_om4xg")]([SubResource("Resource_7kbph"), SubResource("Resource_4c1xa")])
loop_schedule = true
