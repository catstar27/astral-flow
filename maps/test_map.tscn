[gd_scene load_steps=58 format=4 uid="uid://qw4hbk40dyvm"]

[ext_resource type="TileSet" uid="uid://dpajsxeb15k7l" path="res://maps/tilesets/dungeon.tres" id="1_bnvg4"]
[ext_resource type="Script" uid="uid://b8kw4ghpy3r8t" path="res://maps/game_map.gd" id="2_rvbrh"]
[ext_resource type="AudioStream" uid="uid://cunppy0avc0yi" path="res://music/spinning_gears.wav" id="3_j2ofq"]
[ext_resource type="Resource" uid="uid://c0qpu0p6pyf07" path="res://dialogue/test_room_sign1.dtl" id="4_6q77p"]
[ext_resource type="PackedScene" uid="uid://iwh84j268tml" path="res://maps/interactives/generic/interactive.tscn" id="4_72sth"]
[ext_resource type="AudioStream" uid="uid://duak0a258sghg" path="res://music/bounce_back.wav" id="4_5082e"]
[ext_resource type="Texture2D" uid="uid://cjklr64xiys0a" path="res://textures/interactive/sign.png" id="5_5jmsy"]
[ext_resource type="Texture2D" uid="uid://be0foyybi4008" path="res://textures/interactive/sun.png" id="6_dg1xt"]
[ext_resource type="Resource" uid="uid://hh2pu7qnxwmr" path="res://dialogue/test_room_sun.dtl" id="6_lwn61"]
[ext_resource type="Texture2D" uid="uid://dp8dy1cpk5km0" path="res://textures/interactive/couch.png" id="7_g1jef"]
[ext_resource type="Texture2D" uid="uid://binxw1c1e5vyc" path="res://textures/interactive/dog.png" id="7_vnn2i"]
[ext_resource type="Texture2D" uid="uid://dei0ir8jap6a" path="res://textures/interactive/grapes.png" id="8_1rt1a"]
[ext_resource type="Resource" uid="uid://bcxwb2tooui81" path="res://dialogue/test_room_couch.dtl" id="8_elwwl"]
[ext_resource type="Texture2D" uid="uid://c501rjowvd7ww" path="res://textures/interactive/sign_n.png" id="8_prpsj"]
[ext_resource type="Texture2D" uid="uid://dpnsq7nn8m0l2" path="res://textures/interactive/stairs.png" id="9_sk700"]
[ext_resource type="Resource" uid="uid://dt5ji5p7n6aqh" path="res://dialogue/test_room_dog.dtl" id="10_u1hjs"]
[ext_resource type="PackedScene" uid="uid://8hplcp22i5re" path="res://maps/interactives/lights/wall_light.tscn" id="12_kvvyy"]
[ext_resource type="Resource" uid="uid://dqb1tww6se515" path="res://dialogue/test_room_grapes.dtl" id="12_shqtc"]
[ext_resource type="PackedScene" uid="uid://b5mdx6baygoum" path="res://maps/interactives/generic/signal_gate.tscn" id="12_xfvy2"]
[ext_resource type="Resource" uid="uid://c3spvp8owd4ea" path="res://dialogue/locked.dtl" id="13_ymmi3"]
[ext_resource type="PackedScene" uid="uid://v2x25sfrymso" path="res://maps/interactives/generic/damage_activation_interactive.tscn" id="14_luyw1"]
[ext_resource type="Texture2D" uid="uid://b1i0lroq0snm0" path="res://textures/interactive/couch_n.png" id="14_v6peg"]
[ext_resource type="Texture2D" uid="uid://cojmn67i5ba6g" path="res://textures/interactive/tesla_coil.png" id="15_ghxts"]
[ext_resource type="PackedScene" uid="uid://cexm0cxkxol76" path="res://maps/interactives/generic/travel_point.tscn" id="16_c5dte"]
[ext_resource type="Texture2D" uid="uid://dxv2p6xoxo4n0" path="res://textures/interactive/dog_n.png" id="17_7i0lg"]
[ext_resource type="Resource" uid="uid://byr6mgv4py3bh" path="res://dialogue/tesla_coil_active.dtl" id="17_7sy0y"]
[ext_resource type="Resource" uid="uid://ckggu1n1nt8o3" path="res://dialogue/tesla_coil_inactive.dtl" id="17_er6pd"]
[ext_resource type="Texture2D" uid="uid://duqdqyqo5mrlv" path="res://textures/interactive/grapes_n.png" id="20_cjebi"]
[ext_resource type="Resource" uid="uid://co4tp7daojscr" path="res://dialogue/test_room_sign2.dtl" id="20_mlbwn"]
[ext_resource type="Texture2D" uid="uid://wu4x3o502bfq" path="res://textures/interactive/stairs_n.png" id="23_gpbd4"]
[ext_resource type="Texture2D" uid="uid://dkgiwp2iwkxkf" path="res://textures/interactive/stairs_s.png" id="24_dpap0"]
[ext_resource type="Texture2D" uid="uid://c0dsxp62egbv" path="res://textures/interactive/gate_closed.tres" id="26_ysqq4"]
[ext_resource type="Texture2D" uid="uid://bn6djv1k2bj0b" path="res://textures/interactive/gate_open.tres" id="28_llove"]
[ext_resource type="PackedScene" uid="uid://bxbk83doy5d81" path="res://characters/generic/npc.tscn" id="31_w8a5m"]
[ext_resource type="Resource" uid="uid://dprgv3h7cyx52" path="res://dialogue/test_room_npc.dtl" id="32_lfqa0"]
[ext_resource type="Texture2D" uid="uid://33u05ljr16og" path="res://textures/interactive/tesla_coil_n.png" id="35_k202b"]
[ext_resource type="Texture2D" uid="uid://ddu4g3c61ag8s" path="res://textures/interactive/tesla_coil_s.png" id="36_ms4id"]
[ext_resource type="Resource" uid="uid://djnw1m6acv55m" path="res://dialogue/test_room_duel.dtl" id="37_dpap0"]
[ext_resource type="Script" uid="uid://b0xbk38jyra5a" path="res://characters/abilities/ability.gd" id="37_gpbd4"]
[ext_resource type="Resource" uid="uid://dae4xdag0nd3v" path="res://characters/abilities/punch.tres" id="38_dpap0"]
[ext_resource type="Script" uid="uid://cuvk331ioveg" path="res://characters/tasks/npc_task.gd" id="38_jrvla"]
[ext_resource type="Script" uid="uid://co2e1ra3i780n" path="res://characters/tasks/move.gd" id="38_v6peg"]
[ext_resource type="Script" uid="uid://cvn861203hxla" path="res://characters/tasks/wait.gd" id="39_v6peg"]
[ext_resource type="Script" uid="uid://cc0tmmsk43e7j" path="res://characters/tasks/patrol.gd" id="40_7i0lg"]
[ext_resource type="Script" uid="uid://dkbyrhd2t1qnd" path="res://characters/tasks/interact.gd" id="43_cjebi"]

[sub_resource type="CanvasTexture" id="CanvasTexture_6k8ls"]
diffuse_texture = ExtResource("5_5jmsy")
normal_texture = ExtResource("8_prpsj")

[sub_resource type="CanvasTexture" id="CanvasTexture_prpsj"]
diffuse_texture = ExtResource("5_5jmsy")
normal_texture = ExtResource("8_prpsj")

[sub_resource type="CanvasTexture" id="CanvasTexture_x3as3"]
diffuse_texture = ExtResource("7_g1jef")
normal_texture = ExtResource("14_v6peg")

[sub_resource type="CanvasTexture" id="CanvasTexture_hbbc7"]
diffuse_texture = ExtResource("7_vnn2i")
normal_texture = ExtResource("17_7i0lg")

[sub_resource type="CanvasTexture" id="CanvasTexture_at7tr"]
diffuse_texture = ExtResource("8_1rt1a")
normal_texture = ExtResource("20_cjebi")

[sub_resource type="CanvasTexture" id="CanvasTexture_q1fwp"]
diffuse_texture = ExtResource("9_sk700")
normal_texture = ExtResource("23_gpbd4")
specular_texture = ExtResource("24_dpap0")

[sub_resource type="CanvasTexture" id="CanvasTexture_6rbxq"]
diffuse_texture = ExtResource("15_ghxts")
normal_texture = ExtResource("35_k202b")
specular_texture = ExtResource("36_ms4id")

[sub_resource type="CanvasTexture" id="CanvasTexture_v6peg"]
diffuse_texture = ExtResource("15_ghxts")
normal_texture = ExtResource("35_k202b")
specular_texture = ExtResource("36_ms4id")

[sub_resource type="Resource" id="Resource_ysqq4"]
script = ExtResource("39_v6peg")
wait_time = 1.0
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0
metadata/_custom_type_script = "uid://cvn861203hxla"

[sub_resource type="Resource" id="Resource_k202b"]
script = ExtResource("40_7i0lg")
patrol_points = Array[Vector2]([Vector2(-224, -544), Vector2(352, -544), Vector2(32, -544)])
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0
metadata/_custom_type_script = "uid://cc0tmmsk43e7j"

[sub_resource type="Resource" id="Resource_gpbd4"]
script = ExtResource("43_cjebi")
interact_pos = Vector2(32, -608)
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0
metadata/_custom_type_script = "uid://dkbyrhd2t1qnd"

[sub_resource type="Resource" id="Resource_llove"]
script = ExtResource("38_v6peg")
move_location = Vector2(288, -736)
hour_start = 0
hour_end = 0
minute_start = 0
minute_end = 0
metadata/_custom_type_script = "uid://co2e1ra3i780n"

[node name="TestMap" type="TileMapLayer"]
process_mode = 1
tile_map_data = PackedByteArray("AAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAAAD/////AAAAAAAAAAAAAP//AAAAAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAD//wEAAAAAAAAAAAD+/wEAAAAAAAAAAAD+/wAAAAAAAAAAAAD+////AAAAAAAAAAD+//7/AAAAAAAAAAD///7/AAAAAAAAAAAAAP7/AAAAAAAAAAABAP7/AAAAAAAAAAACAP7/AAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAD9//7/AAAAAAAAAAD9////AAAAAAAAAAD9/wAAAAAAAAAAAAD9/wEAAAAAAAAAAAD8//3/AAAAAAAAAAD9//3/AAAAAAAAAAD+//3/AAAAAAAAAAD///3/AAAAAAAAAAAAAP3/AAAAAAAAAAABAP3/AAAAAAAAAAACAP3/AAAAAAAAAAADAP3/AAAAAAAAAAD8/wIAAAAAAAAAAAD9/wIAAAAAAAAAAAD+/wIAAAAAAAAAAAD//wIAAAAAAAAAAAAAAAIAAAAAAAAAAAABAAIAAAAAAAAAAAACAAIAAAAAAAAAAAADAAIAAAAAAAAAAAADAAEAAAAAAAAAAAADAAAAAAAAAAAAAAADAP//AAAAAAAAAAADAP7/AAAAAAAAAAD8//7/AAAAAAAAAAD8////AAAAAAAAAAD8/wAAAAAAAAAAAAD8/wEAAAAAAAAAAAAAAPz/AAAAAAAAAAAEAAAAAAAAAAAAAAAEAP//AAAAAAAAAAAEAP3/AAAAAAAAAAAFAP3/AAAAAAAAAAAFAP7/AAABAAAAAAAGAP7/AAADAAAAAAAHAP7/AAAAAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAADAAAAAAAFAAEAAAABAAAAAAAFAAIAAAAAAAAAAAAEAAIAAAAAAAAAAAD7/wIAAAAAAAAAAAD6/wIAAAAAAAAAAAD6/wEAAAAAAAAAAAD6/wAAAAAAAAAAAAD6////AAAAAAAAAAD6//7/AAAAAAAAAAD6//3/AAAAAAAAAAD5//3/AAAAAAAAAAD4//3/AAAAAAAAAAD4//7/AAAAAAAAAAD4////AAAAAAAAAAD4/wAAAAAAAAAAAAD4/wEAAAAAAAAAAAD4/wIAAAAAAAAAAAD3/wIAAAAAAAAAAAAAAPb/AAAAAAAAAAAAAPf/AAAAAAAAAAD///f/AAAAAAAAAAD+//f/AAAAAAAAAAD9//f/AAAAAAAAAAD8//f/AAAAAAAAAAD8//j/AAAAAAAAAAD8//n/AAAAAAAAAAD8//r/AAAAAAAAAAD9//r/AAAAAAAAAAD9//v/AAAAAAAAAAD+//v/AAAAAAAAAAD///v/AAAAAAAAAAD8//v/AAAAAAAAAAAAAPv/AAAAAAAAAAABAPv/AAAAAAAAAAACAPv/AAAAAAAAAAADAPv/AAAAAAAAAAAEAPv/AAAAAAAAAAAEAPr/AAAAAAAAAAAFAPr/AAAAAAAAAAAFAPv/AAAAAAAAAAAFAPn/AAAAAAAAAAAFAPj/AAAAAAAAAAAFAPf/AAAAAAAAAAAEAPf/AAAAAAAAAAADAPf/AAAAAAAAAAACAPf/AAAAAAAAAAABAPf/AAAAAAAAAAD///j/AAAAAAAAAAD+//j/AAAAAAAAAAD9//j/AAAAAAAAAAD9//n/AAAAAAAAAAD+//r/AAAAAAAAAAD///r/AAAAAAAAAAAAAPr/AAAAAAAAAAABAPr/AAAAAAAAAAABAPn/AAAAAAAAAAAAAPn/AAAAAAAAAAD///n/AAAAAAAAAAD+//n/AAAAAAAAAAAAAPj/AAAAAAAAAAABAPj/AAAAAAAAAAACAPj/AAAAAAAAAAADAPj/AAAAAAAAAAAEAPj/AAAAAAAAAAAEAPn/AAAAAAAAAAADAPn/AAAAAAAAAAADAPr/AAAAAAAAAAACAPr/AAAAAAAAAAACAPn/AAAAAAAAAAAFAPX/AAAAAAAAAAAEAPX/AAAAAAAAAAADAPX/AAAAAAAAAAACAPX/AAAAAAAAAAABAPX/AAAAAAAAAAAAAPX/AAAAAAAAAAD///X/AAAAAAAAAAD+//X/AAAAAAAAAAD9//X/AAAAAAAAAAD8//X/AAAAAAAAAAD8//T/AAAAAAAAAAD8//P/AAAAAAAAAAD9//P/AAAAAAAAAAD+//P/AAAAAAAAAAD///P/AAAAAAAAAAAAAPP/AAAAAAAAAAABAPP/AAAAAAAAAAACAPP/AAAAAAAAAAADAPP/AAAAAAAAAAAEAPP/AAAAAAAAAAAFAPP/AAAAAAAAAAAFAPT/AAAAAAAAAAAEAPT/AAAAAAAAAAADAPT/AAAAAAAAAAACAPT/AAAAAAAAAAABAPT/AAAAAAAAAAAAAPT/AAAAAAAAAAD///T/AAAAAAAAAAD+//T/AAAAAAAAAAD9//T/AAAAAAAAAAD7//L/AAAEAAAAAAD7//P/AAACAAAAAAD7//T/AAACAAAAAAD7//X/AAADAAAAAAD7//b/AAAEAAAAAAD7//f/AAADAAAAAAD7//j/AAACAAAAAAD7//n/AAACAAAAAAD7//r/AAACAAAAAAD7//v/AAACAAAAAAD8//b/AAABAAAAAAD9//b/AAABAAAAAAD+//b/AAABAAAAAAD///b/AAADAAAAAAAFAPL/AAABAAAAAAAEAPL/AAABAAAAAAADAPL/AAABAAAAAAACAPL/AAABAAAAAAABAPL/AAABAAAAAAAAAPL/AAAAAAAAAAD///L/AAADAAAAAAD+//L/AAABAAAAAAD9//L/AAABAAAAAAD8//L/AAABAAAAAAAGAPX/AAACAAAAAAAGAPT/AAACAAAAAAAGAPP/AAACAAAAAAAGAPL/AAADAAAAAAAGAPb/AAADAAAAAAABAPb/AAAEAAAAAAACAPb/AAABAAAAAAADAPb/AAABAAAAAAAEAPb/AAABAAAAAAAFAPb/AAABAAAAAAD7//z/AAABAAAAAAD8//z/AAABAAAAAAD9//z/AAABAAAAAAD+//z/AAABAAAAAAD///z/AAADAAAAAAD6//z/AAABAAAAAAD5//z/AAABAAAAAAD4//z/AAAAAAAAAAD3//z/AAACAAAAAAD3/wEAAAADAAAAAAD3/wAAAAACAAAAAAD3////AAACAAAAAAD3//7/AAACAAAAAAD3//3/AAACAAAAAAD2/wEAAAAEAAAAAAD2/wIAAAACAAAAAAD2/wMAAAAEAAAAAAD5/wMAAAABAAAAAAD4/wMAAAABAAAAAAD3/wMAAAABAAAAAAD5//7/AAACAAAAAAD5////AAACAAAAAAD5/wAAAAACAAAAAAD5/wEAAAACAAAAAAD5/wIAAAAAAAAAAAD7//3/AAACAAAAAAD7//7/AAACAAAAAAD7////AAACAAAAAAD7/wAAAAACAAAAAAD7/wEAAAACAAAAAAAGAAMAAAABAAAAAAAFAAMAAAABAAAAAAAEAAMAAAABAAAAAAADAAMAAAABAAAAAAACAAMAAAABAAAAAAABAAMAAAABAAAAAAAAAAMAAAABAAAAAAD//wMAAAABAAAAAAD+/wMAAAABAAAAAAD9/wMAAAABAAAAAAD8/wMAAAABAAAAAAD7/wMAAAABAAAAAAD6/wMAAAABAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAGAAIAAAAAAAAAAAAIAP3/AAADAAAAAAAIAP7/AAACAAAAAAAIAP//AAACAAAAAAAIAAAAAAACAAAAAAAIAAEAAAADAAAAAAAGAP3/AAAAAAAAAAAHAP3/AAAAAAAAAAAFAP//AAACAAAAAAAGAP//AAAAAAAAAAAFAAAAAAACAAAAAAAEAAEAAAAEAAAAAAAEAP7/AAAEAAAAAAABAPz/AAAEAAAAAAACAPz/AAABAAAAAAADAPz/AAABAAAAAAAEAPz/AAABAAAAAAAFAPz/AAABAAAAAAAGAPf/AAACAAAAAAAGAPj/AAACAAAAAAAGAPn/AAACAAAAAAAGAPr/AAACAAAAAAAGAPv/AAACAAAAAAAGAPz/AAABAAAAAAD///H/AAACAAAAAAD///D/AAAEAAAAAAAAAPD/AAABAAAAAAABAPD/AAADAAAAAAABAPH/AAACAAAAAAAAAPH/AAAAAAAAAAAHAAMAAAABAAAAAAAIAAIAAAADAAAAAAAIAAMAAAADAAAAAAAIAPz/AAADAAAAAAAHAPz/AAABAAAAAAD4//v/AAAAAAAAAAD4//r/AAAAAAAAAAD4//n/AAAAAAAAAAD4//j/AAAAAAAAAAD4//f/AAAAAAAAAAD4//b/AAAAAAAAAAD5//b/AAAAAAAAAAD6//b/AAAAAAAAAAD6//X/AAABAAAAAAD5//X/AAABAAAAAAD4//X/AAABAAAAAAD3//X/AAAEAAAAAAD3//b/AAACAAAAAAD3//f/AAACAAAAAAD3//j/AAACAAAAAAD3//n/AAACAAAAAAD3//r/AAACAAAAAAD3//v/AAACAAAAAAD5//v/AAACAAAAAAD5//r/AAACAAAAAAD5//n/AAACAAAAAAD5//j/AAACAAAAAAD5//f/AAAEAAAAAAD6//f/AAABAAAAAAA=")
tile_set = ExtResource("1_bnvg4")
script = ExtResource("2_rvbrh")
calm_theme = ExtResource("3_j2ofq")
battle_theme = ExtResource("4_5082e")
map_name = "Tutorial"

[node name="LightingModulate" type="CanvasModulate" parent="."]
unique_name_in_owner = true
color = Color(0, 0, 0, 1)

[node name="Sign" parent="." instance=ExtResource("4_72sth")]
position = Vector2(-608, 160)
rotation = -1.5708
texture = SubResource("CanvasTexture_6k8ls")
dialogue = ExtResource("4_6q77p")

[node name="Sign2" parent="." instance=ExtResource("4_72sth")]
position = Vector2(-288, -608)
rotation = 1.57034
texture = SubResource("CanvasTexture_prpsj")
dialogue = ExtResource("20_mlbwn")

[node name="Sun" parent="." instance=ExtResource("4_72sth")]
position = Vector2(160, 160)
texture = ExtResource("6_dg1xt")
dialogue = ExtResource("6_lwn61")

[node name="Couch" parent="." instance=ExtResource("4_72sth")]
position = Vector2(96, -160)
texture = SubResource("CanvasTexture_x3as3")
dimensions = Vector2i(2, 1)
offset = Vector2(0, -12)
dialogue = ExtResource("8_elwwl")

[node name="Dog" parent="." instance=ExtResource("4_72sth")]
position = Vector2(-224, -160)
texture = SubResource("CanvasTexture_hbbc7")
dialogue = ExtResource("10_u1hjs")
pause_music = true

[node name="Grapes" parent="." instance=ExtResource("4_72sth")]
position = Vector2(288, 32)
texture = SubResource("CanvasTexture_at7tr")
dialogue = ExtResource("12_shqtc")

[node name="TravelPoint" parent="." instance=ExtResource("16_c5dte")]
position = Vector2(32, -928)
rotation = 1.5708
exit_direction = 1
entrance_id = "tutorial"
target_entrance_id = "dance_party_left"
new_map = "res://maps/test_map_dance_floor.tscn"
texture = SubResource("CanvasTexture_q1fwp")

[node name="InteractPuzzleGate" parent="." instance=ExtResource("12_xfvy2")]
position = Vector2(32, -224)
locked_texture = ExtResource("26_ysqq4")
signals_needed = Array[String](["test_room_sun_click", "test_room_couch_click", "test_room_dog_click", "test_room_grapes_click"])
ordered = true
is_dialogic = true
dialogic_var = "test_room_puzzle_index"
texture = ExtResource("28_llove")
dialogue = ExtResource("13_ymmi3")

[node name="CombatGate" parent="." instance=ExtResource("12_xfvy2")]
position = Vector2(32, -608)
locked_texture = ExtResource("26_ysqq4")
signals_needed = Array[String](["???"])
texture = ExtResource("28_llove")
dialogue = ExtResource("13_ymmi3")

[node name="TeslaGate" parent="." instance=ExtResource("12_xfvy2")]
position = Vector2(32, -864)
locked_texture = ExtResource("26_ysqq4")
signals_needed = Array[String](["unlocked", "unlocked"])
auto_open = true
texture = ExtResource("28_llove")
dialogue = ExtResource("13_ymmi3")

[node name="WallLight" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(-288, -32)

[node name="WallLight2" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(-544, 224)
rotation = -1.5708

[node name="WallLight3" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(32, -992)
rotation = 1.5708

[node name="WallLight4" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(416, -736)
rotation = 3.14159

[node name="WallLight5" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(288, 96)
rotation = 3.14159

[node name="WallLight6" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(-288, -416)

[node name="WallLight7" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(-288, -736)

[node name="WallLight8" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(416, -416)
rotation = 3.14159

[node name="WallLight9" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(224, -224)
rotation = 1.5708

[node name="WallLight10" parent="." instance=ExtResource("12_kvvyy")]
position = Vector2(-544, -608)

[node name="TeslaCoil" parent="." instance=ExtResource("14_luyw1")]
position = Vector2(-160, -800)
damage_type_required = 1
dialogue_unlocked = ExtResource("17_7sy0y")
texture = SubResource("CanvasTexture_6rbxq")
dialogue = ExtResource("17_er6pd")

[node name="TeslaCoil2" parent="." instance=ExtResource("14_luyw1")]
position = Vector2(224, -800)
damage_type_required = 1
dialogue_unlocked = ExtResource("17_7sy0y")
texture = SubResource("CanvasTexture_v6peg")
dialogue = ExtResource("17_er6pd")

[node name="Stranger" parent="." instance=ExtResource("31_w8a5m")]
position = Vector2(32, -544)
display_name = "???"
dialogue = ExtResource("37_dpap0")
export_abilities = Array[ExtResource("37_gpbd4")]([ExtResource("38_dpap0")])
schedule = Array[ExtResource("38_jrvla")]([SubResource("Resource_ysqq4"), SubResource("Resource_k202b")])
loop_schedule = true

[node name="Nilak" parent="." instance=ExtResource("31_w8a5m")]
position = Vector2(480, -288)
display_name = "Nilak"
dialogue = ExtResource("32_lfqa0")
schedule = Array[ExtResource("38_jrvla")]([SubResource("Resource_gpbd4"), SubResource("Resource_llove")])
active = false

[connection signal="unlocked" from="InteractPuzzleGate" to="Stranger" method="stop_looping"]
[connection signal="unlocked" from="TeslaCoil" to="TeslaGate" method="advance_unlock"]
[connection signal="unlocked" from="TeslaCoil2" to="TeslaGate" method="advance_unlock"]
[connection signal="combat_entered" from="Stranger" to="InteractPuzzleGate" method="close"]
[connection signal="defeated" from="Stranger" to="InteractPuzzleGate" method="open"]
[connection signal="defeated_at" from="Stranger" to="Nilak" method="activate"]
[connection signal="defeated_named" from="Stranger" to="CombatGate" method="advance_unlock"]
